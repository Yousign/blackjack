(this["webpackJsonpblackjack-react-app"]=this["webpackJsonpblackjack-react-app"]||[]).push([[0],[,,,,function(e,a,c){e.exports={Overlay:"Message_Overlay__369KI",Dialog:"Message_Dialog__2gJdp",Message:"Message_Message__2fF6f",Blackjack:"Message_Blackjack__3Vjqd",YouWin:"Message_YouWin__6Auqr",YouLose:"Message_YouLose__Rryjl"}},,function(e,a,c){e.exports={Button:"Button_Button__2BYYQ",neutral:"Button_neutral__2RQQQ",warning:"Button_warning__2NvwO",success:"Button_success__2AdjY",emoji:"Button_emoji__gkm6s"}},,,,,,function(e,a,c){e.exports={App:"App_App__15LM-"}},,,function(e,a,c){e.exports={Card:"Card_Card__37Yu0",Image:"Card_Image__35QkB"}},,function(e,a,c){e.exports={Cards:"Cards_Cards__GVyc2"}},function(e,a,c){e.exports={Dealer:"DealerHand_Dealer__2YEEe"}},function(e,a,c){e.exports={Score:"Score_Score__2Mbjm"}},,function(e,a,c){e.exports={Player:"PlayerHand_Player__3HBK-"}},function(e,a,c){e.exports={Actions:"Actions_Actions__3Yco8"}},,,,,,,function(e,a,c){"use strict";c.r(a);var r=c(0),t=c(1),n=c.n(t),s=c(16),l=c.n(s),i=c(8),o=c(3),d=c(9),u=c.n(d),j=c(2),b=c(14),p="".concat("https://deckofcardsapi.com/api","/deck"),_=function(e){return e.json()},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return fetch("".concat(p,"/new/shuffle/?deck_count=").concat(e)).then(_)},v=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("".concat(p,"/").concat(e,"/draw/?count=").concat(a)).then(_)},f="IDLE",h="PLAYER_TURN",x="DEALER_TURN",m="BLACKJACK",C="PLAYER_WINS",g="DEALER_WINS",k="JACK",y="QUEEN",N="KING",A="ACE",E=function(e){var a=[];return e.forEach((function(e){e.value===A?a.push(e):e.value&&a.unshift(e)})),a.reduce((function(e,a){return a.value===k||a.value===y||a.value===N?e+10:a.value===A?e+11<=21?e+11:e+1:e+parseInt(a.value,0)}),0)},L=f,B=h,S=x,Y=C,I=m,w=g,D="PLAYER",M="DEALER",R={deckId:null,dealerCards:[],playerCards:[]};var K=c(11),P=c.n(K),W=c(15),H=c.n(W);var J=function(e){var a=e.code;return Object(r.jsx)("li",{className:P()(H.a.Card,"animate__fadeInDownBig"),children:Object(r.jsx)("img",{className:H.a.Image,src:"/assets/cards/".concat(a,".svg"),alt:""})})},Q=c(17),T=c.n(Q);var U=function(e){var a=e.cards;return Object(r.jsx)("ul",{className:T.a.Cards,children:a.map((function(e,a){return Object(t.createElement)(J,Object(j.a)(Object(j.a)({},e),{},{key:a}))}))})},q=c(18),F=c.n(q),G=c(19),V=c.n(G);var z=function(e){var a=e.children,c=e.ariaLabel;return Object(r.jsx)("div",{className:V.a.Score,"aria-live":"polite","aria-label":c,children:a})},X=x,Z=C,$=g;var ee=function(e){var a=e.gameStatus,c=e.dealerCards,t=[X,Z,$].includes(a),n=c.slice(0,1),s=t?c:[].concat(Object(o.a)(n),[{code:"BACK"}]),l=E(s);return Object(r.jsxs)("div",{className:F.a.Dealer,children:[0!==c.length&&Object(r.jsx)(z,{ariaLabel:"Dealer score",children:l}),Object(r.jsx)(U,{cards:s})]})},ae=c(20),ce=c.n(ae),re=c(4),te=c.n(re),ne=m,se=C,le=g,ie=function(){return Object(r.jsx)("div",{className:te.a.Blackjack,children:"BLACKJACK!"})},oe=function(){return Object(r.jsx)("div",{className:te.a.YouWin,children:"YOU WIN!"})},de=function(){return Object(r.jsx)("div",{className:te.a.YouLose,children:"DEALER WINS..."})};var ue=function(e){var a=e.gameStatus,c=e.children,t=null;switch(a){case ne:t=ie;break;case se:t=oe;break;case le:t=de;break;default:t=null}return t?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:te.a.Overlay}),Object(r.jsx)(ce.a,{children:Object(r.jsxs)("div",{className:te.a.Dialog,role:"dialog","aria-labelledby":"dialog1Title",children:[Object(r.jsx)("div",{className:te.a.Message,"aria-live":"polite",id:"dialog-message",children:Object(r.jsx)(t,{})}),c]})})]}):null},je=c(12),be=c.n(je),pe=c(21),_e=c.n(pe);var Oe=function(e){var a=e.playerCards,c=E(a);return Object(r.jsxs)("div",{className:_e.a.Player,children:[Object(r.jsx)(U,{cards:a}),0!==a.length&&Object(r.jsx)(z,{ariaLabel:"Your score",children:c})]})},ve=c(5),fe=c(6),he=c.n(fe),xe="neutral",me="warning",Ce="success";var ge=function(e){var a,c=e.onClick,t=e.emoji,n=void 0===t?"":t,s=e.color,l=e.children,i=e.disabled,o=void 0!==i&&i;return Object(r.jsxs)("button",{className:P()(he.a.Button,(a={},Object(ve.a)(a,he.a.neutral,s===xe),Object(ve.a)(a,he.a.warning,s===me),Object(ve.a)(a,he.a.success,s===Ce),a)),type:"button",disabled:o,onClick:c,children:[n&&Object(r.jsx)("span",{"aria-hidden":!0,className:he.a.emoji,children:n}),l]})},ke=c(22),ye=c.n(ke);var Ne=function(e){var a=e.playerHit,c=e.playerStand,t=e.disabled;return Object(r.jsxs)("div",{className:ye.a.Actions,children:[Object(r.jsx)(ge,{disabled:t,onClick:c,color:me,emoji:"\ud83d\udd90",children:"Stand"}),Object(r.jsx)(ge,{disabled:t,onClick:a,color:Ce,emoji:"\ud83d\udc49",children:"Hit"})]})};var Ae=function(){var e=function(){var e=Object(t.useState)(R),a=Object(i.a)(e,2),c=a[0],r=a[1],n=Object(t.useState)(L),s=Object(i.a)(n,2),l=s[0],d=s[1],p=function(){var e=Object(b.a)(u.a.mark((function e(){var a,c,t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:return a=e.sent,c=a.deck_id,e.next=6,v(c,4);case 6:t=e.sent,n=t.cards,r(Object(j.a)(Object(j.a)({},R),{},{deckId:c,dealerCards:n.slice(0,2),playerCards:n.slice(2,4)})),d(B);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=Object(t.useCallback)(function(){var e=Object(b.a)(u.a.mark((function e(a){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(c.deckId,1);case 2:t=e.sent,n=t.cards,r(Object(j.a)(Object(j.a)({},c),{},{playerCards:a===D?[].concat(Object(o.a)(c.playerCards),Object(o.a)(n)):c.playerCards,dealerCards:a===M?[].concat(Object(o.a)(c.dealerCards),Object(o.a)(n)):c.dealerCards}));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[c]);return Object(t.useEffect)((function(){var e=E(c.dealerCards),a=E(c.playerCards);l===B?21===a?2===c.playerCards.length?d(I):d(Y):a>21&&d(w):l===S&&(e<17?_(M):d(e>a&&e<=21?w:Y))}),[c.dealerCards,c.playerCards,l,_]),[c,l,p,function(){d(S)},function(){_(D)}]}(),a=Object(i.a)(e,5),c=a[0],n=c.dealerCards,s=c.playerCards,l=a[1],d=a[2],p=a[3],_=a[4],x=function(){return Object(r.jsx)(ge,{className:be.a.LetsPlay,type:"button",onClick:d,color:xe,children:"LET'S PLAY!"})};return l===f?Object(r.jsx)("div",{className:be.a.App,children:Object(r.jsx)(x,{})}):Object(r.jsxs)("div",{className:be.a.App,children:[Object(r.jsx)(ee,{gameStatus:l,dealerCards:n}),Object(r.jsx)(Oe,{playerCards:s}),Object(r.jsx)(Ne,{playerHit:_,playerStand:p,disabled:l!==h}),Object(r.jsx)(ue,{gameStatus:l,children:Object(r.jsx)(x,{})})]})};l.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(Ae,{})}),document.getElementById("root"))}],[[29,1,2]]]);
//# sourceMappingURL=main.71cf82a0.chunk.js.map